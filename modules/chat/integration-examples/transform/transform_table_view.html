<!--Integrando um componente de transformação com um componente de gráfico.
O componente de botão simula um publish ao ser clicado. O componente de filtro recebe o publish
por subscribe, filtra e faz publish dos dados filtradaos, que são recebidos pelo componente de visualização
que mostra a tabela filtrada na tela.-->

<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>Playground</title>
        <script src="../../../transform/src/components/filter/filter.js" type="module"></script>
        <script src="../../../data/src/components/table-view-oid.js" type="module"></script>
        <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>
        <script src="../../chat_oid.js" type="module"></script>
        <script src="../../graph-mock.js" type="module"></script>
        <script src="../../chat-button-oid.js" type="module"></script>
    </head>
    <body>
    <h1>Playground</h1>
    <button-oid label="Start"
                value='{"columns":[{"name": "hospital_id", "type": "number"},{"name": "numero_pacientes", "type": "number"}],"data": [[1, 300],[2, 200],[3, 100],[4, 100],[5, 500]]}'
                publish="click~data/1"></button-oid>
    <filter-oid
        subscribe="data/1~filter"
        publish="filtered~data/2"
        target_column="numero_pacientes"
        operation="gt"
        compared_value="100"
        id="2"
    ></filter-oid>
    <table-view-oid
    subscribe="data/2~display" id="3"
    ></table-view-oid>
    <graph-mock-oid subscribe="connect/graph~connect" publish="infos~exportWorkflow" ></graph-mock-oid>
    <chat-oid id="chat" subscribe= "exportWorkflow~graph"></chat-oid>
    <chat-button-oid subscribe="chat/explain~explain" componentid="3"></chat-button-oid>
</body>
</html>