<!--Integrando um componente de transformação com um componente de gráfico.
O componente de botão simula um publish ao ser clicado. O componente de filtro recebe o publish
por subscribe, filtra e faz publish dos dados filtradaos, que são recebidos pelo componente de visualização
que mostra a tabela filtrada na tela.-->

<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>transform-table</title>
        <script src="../src/components/filter/filter.js" type="module"></script>
        <script src="../../data/src/components/table-view-oid.js" type="module"></script>
        <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>
    </head>
    <body>
    <h1>Playground</h1>
    <button-oid label="Start"
                value='{"columns":[{"name": "hospital_id", "type": "number"},{"name": "numero_pacientes", "type": "number"}],"data": [[1, 300],[2, 200],[3, 100],[4, 100],[5, 500]]}'
                publish="click~data/1"></button-oid>
    <filter-oid
        subscribe="data/1~filter"
        publish="filtered~data/2"
        target_column="numero_pacientes"
        operation="gt"
        compared_value="100"
    ></filter-oid>
    <table-view-oid
    subscribe="data/2~display"
    ></table-view-oid>
    
</body>
</html>