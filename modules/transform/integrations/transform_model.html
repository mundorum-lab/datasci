<!--Integrando um componente de transformação com um componente de modelo.
O componente de botão simula um publish ao ser clicado. O componente de filtro recebe o publish
por subscribe, filtra e faz publish dos dados filtradaos, que são recebidos e usados para linearização.-->

<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>transform-model</title>
        <script src="./helpers/data-sender-oid.js" type="module"></script>
        <script src="../src/components/filter/filter.js" type="module"></script>
        <script src="../src/components/minimum/minimum.js" type="module"></script>
        <script src="../../model/index.js" type="module"></script>
        <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>
        <script src="../../data/src/components/table-view-oid.js" type="module"></script>
    </head>
    <body>
    <h1>Playground</h1>
    <data-sender-oid data_name="pressao_sanguinea_data" publish="click~data/1"> </data-sender-oid><br />
    <h3>Tabela de entrada</h3>
    <table-view-oid subscribe="data/1~display"></table-view-oid>
    <filter-oid
        subscribe="data/1~filter"
        publish="filtered~data/2"
        target_column="idade"
        operation="gt"
        compared_value="60"
    ></filter-oid>
    <ml-lr-oid target_index="2" subscribe="data/2~transform" publish="transformed~data/3"></ml-lr-oid>
    <h3>Tabela após linearização</h3>
    <table-view-oid subscribe="data/3~display"></table-view-oid>
    <minimum-oid subscribe="data/3~minimum" publish="minimumResult~data/4" column="pressao_sanguinea"></minimum-oid>
    <h3>Pressão mínima</h3>
    <table-view-oid subscribe="data/4~display"></table-view-oid>
</body>
</html>