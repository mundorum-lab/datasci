<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Linear Regression Graphs</title>
  <script src="../../visualize/graph-oid.js" type="module"></script>
  <script src="../../visualize/mocks/data_sender_oid.js" type="module"></script>
  <script src="../../visualize/mocks/options_sender_oid.js" type="module"></script>
  <script src="../../visualize/export_button.js" type="module"></script>
  <!-- Import DataLabels plugin via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
  <!-- Import D3 Scale Chromatic via CDN -->
  <script src="https://d3js.org/d3-color.v1.min.js"></script>
  <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script src="../../visualize/utils/color_generator.js" type="module"></script>

  <script src="../index.js" type="module"></script>

  <script src="../../data/src/components/fileinput-oid.js" type="module"></script>
  <script src="../../data/src/components/filereader-oid.js" type="module"></script>
  <script src="../../data/src/components/typeinput-oid.js" type="module"></script>
  <script src="../../data/src/components/table-view-oid.js" type="module"></script>
  <script src="../../data/src/components/cleardata-oid.js" type="module"></script>
</head>
<body>
  <h1>Linear Regression Algorithm:</h1>
  <p>Use the example_data.csv file</p>
  <filereader-oid sep="," publish="loaded~data/loaded"></filereader-oid>
  <fileinput-oid subscribe="data/loaded~load_file" publish="output_raw~data/raw"></fileinput-oid>
  <type-input subscribe="data/raw~type_input" publish="output_type~data/processed"></type-input>
  <ml-lr-oid target_index="1" subscribe="data/processed~transform" publish="transformed~data/transformed"></ml-lr-oid>

  <button-oid label="Clear DB"
                value="Clear Database Example"
                publish="click~data/clear">
  </button-oid>
  <cleardata-oid subscribe="data/clear~clear"></cleardata-oid>
  <br />
  <h1>How to use</h1>
  <p>Select the graph type as "Linear Regression" and click the send options button. Then upload your file!</p>
  <h1>Graphic</h1><br/>
  <options-sender-oid options='[{"x": 0, "y": 1, "z":2}]' publish="click~2/render/options"> </options-sender-oid><br />
  <export-button-oid publish="export~2/graph/export"></export-button-oid><br />
  <graph-oid uid="graph-2" type="scatter" subscribe="2/render/options~options;data/transformed~render;2/graph/export~export;"></graph-oid>
  <canvas id="forcing-canvas"></canvas>
</body>
</html>