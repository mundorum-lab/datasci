<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualize integration with Transform</title>
    <!-- Visualize Components -->
    <script src="../graph-oid.js" type="module"></script>
    <script src="../mocks/data_sender_oid.js" type="module"></script>
    <script src="../mocks/options_sender_oid.js" type="module"></script>
    <script src="../export_button.js" type="module"></script>
    <!-- Import DataLabels plugin via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <!-- Import D3 Scale Chromatic via CDN -->
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="../utils/color_generator.js" type="module"></script>
    <!-- Transform Components -->
    <script src="../../transform/src/components/columnOpConstant/columnOpConstant.js" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>
    <!-- Data Components -->
    <script src="../../data/src/components/table-view-oid.js" type="module"></script>
</head>
<body>
    <h1>Transform + Visualize</h1>
    The objective is to show that the operation of subtracting 50 from all values of column "Quantidade em Estoque" is working correctly, creating a new column called "Sobra de estoque".
    <h2>Click on "Send Options" and after that on "Render Graph"</h2>
    <options-sender-oid publish="click~graph/options/5"  options='[{"x": 0, "y": 2}, {"x": 0, "y": 4}]'> </options-sender-oid><br />
    <data-sender-oid publish="click~data/1"></data-sender-oid><br />
    <h2>Data table before</h2>
    Will be shown after you click to render the graph.
    <table-view-oid subscribe="data/1~display"></table-view-oid>
    <column-op-constant-oid
        subscribe="data/1~columnOpConstant"
        publish="columnOpConstantResult~data/2"
        column="Quantidade em Estoque"
        constant="50"
        op="-"
        result="Sobra de estoque"
    ></column-op-constant-oid>
    <h2>Data table after transform</h2>
    Will be shown after you click to render the graph.
    <table-view-oid subscribe="data/2~display"></table-view-oid>
    <h2>Graph</h2>
    <graph-oid uid="5" subscribe="data/2~render;graph/options/5~options;graph/export/5~export;"></graph-oid>
</body>
</html>